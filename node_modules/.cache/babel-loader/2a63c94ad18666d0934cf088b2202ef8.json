{"ast":null,"code":"import _regeneratorRuntime from\"/home/akshay/ask_stackoverflow/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/akshay/ask_stackoverflow/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/akshay/ask_stackoverflow/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/akshay/ask_stackoverflow/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/akshay/ask_stackoverflow/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/akshay/ask_stackoverflow/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import LoadingPage from\"./LoadingPage\";import NavigationBar from\"./NavigationBar\";import Pagination from\"./Pagination\";import TopQuestions from\"./TopQuestions\";import Header from\"./Header\";var MainApp=/*#__PURE__*/function(_Component){_inherits(MainApp,_Component);function MainApp(){var _getPrototypeOf2;var _this;_classCallCheck(this,MainApp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MainApp)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={questions:[],isLoading:false,currentPage:1,quesPerPage:10,title:\"Top Questions\"};_this.formSubmit=function _callee(e){var searchQue,api_call,response,data;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:searchQue=e.target.elements.searchQue.value;e.preventDefault();api_call=\"https://api.stackexchange.com/2.2/search/advanced?order=desc&sort=activity&title=\".concat(searchQue,\"&site=stackoverflow\");_context.next=5;return _regeneratorRuntime.awrap(fetch(api_call));case 5:response=_context.sent;_context.next=8;return _regeneratorRuntime.awrap(response.json());case 8:data=_context.sent;_this.setState({questions:data.items,isLoading:true,title:\"Search Results\"});case 10:case\"end\":return _context.stop();}}});};_this.paginate=function(pageNumber){_this.setState({currentPage:pageNumber});};return _this;}_createClass(MainApp,[{key:\"componentDidMount\",//To display Top Questions on the Home Page\nvalue:function componentDidMount(){var url,response,data;return _regeneratorRuntime.async(function componentDidMount$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://api.stackexchange.com/2.2/questions?order=desc&sort=activity&site=stackoverflow\";_context2.next=3;return _regeneratorRuntime.awrap(fetch(url));case 3:response=_context2.sent;_context2.next=6;return _regeneratorRuntime.awrap(response.json());case 6:data=_context2.sent;this.setState({questions:data.items,isLoading:true});console.log(this.state.questions);case 9:case\"end\":return _context2.stop();}}},null,this);}//To search the Questions from StackOverFlow API\n},{key:\"render\",value:function render(){var _this$state=this.state,currentPage=_this$state.currentPage,quesPerPage=_this$state.quesPerPage,questions=_this$state.questions,isLoading=_this$state.isLoading;var indexofLastPage=currentPage*quesPerPage;var indexofFirstPage=indexofLastPage-quesPerPage;var currentPageQue=questions.slice(indexofFirstPage,indexofLastPage);return React.createElement(\"div\",null,React.createElement(NavigationBar,{formSubmit:this.formSubmit}),!isLoading?React.createElement(LoadingPage,null):React.createElement(\"div\",null,React.createElement(Header,{title:this.state.title,totalQuestions:this.state.questions}),React.createElement(TopQuestions,{questions:currentPageQue,loading:this.state.isloading}),React.createElement(Pagination,{quePerPage:quesPerPage,totalQues:questions.length,paginate:this.paginate})));}}]);return MainApp;}(Component);export default MainApp;","map":{"version":3,"sources":["/home/akshay/ask_stackoverflow/src/components/MainApp.js"],"names":["React","Component","LoadingPage","NavigationBar","Pagination","TopQuestions","Header","MainApp","state","questions","isLoading","currentPage","quesPerPage","title","formSubmit","e","searchQue","target","elements","value","preventDefault","api_call","fetch","response","json","data","setState","items","paginate","pageNumber","url","console","log","indexofLastPage","indexofFirstPage","currentPageQue","slice","isloading","length"],"mappings":"2qBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,O,mYACJC,K,CAAQ,CACNC,SAAS,CAAE,EADL,CAENC,SAAS,CAAE,KAFL,CAGNC,WAAW,CAAE,CAHP,CAINC,WAAW,CAAE,EAJP,CAKNC,KAAK,CAAE,eALD,C,OAoBRC,U,CAAa,iBAAMC,CAAN,wJACLC,SADK,CACOD,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBF,SAAlB,CAA4BG,KADnC,CAEXJ,CAAC,CAACK,cAAF,GACMC,QAHK,4FAG0FL,SAH1F,yEAIYM,KAAK,CAACD,QAAD,CAJjB,SAILE,QAJK,gEAKQA,QAAQ,CAACC,IAAT,EALR,SAKLC,IALK,eAMX,MAAKC,QAAL,CAAc,CACZjB,SAAS,CAAEgB,IAAI,CAACE,KADJ,CAEZjB,SAAS,CAAE,IAFC,CAGZG,KAAK,CAAE,gBAHK,CAAd,EANW,+C,OAabe,Q,CAAW,SAAAC,UAAU,CAAI,CACvB,MAAKH,QAAL,CAAc,CAAEf,WAAW,CAAEkB,UAAf,CAAd,EACD,C,8DA3BD;uLAEQC,G,CACJ,yF,mDAEqBR,KAAK,CAACQ,GAAD,C,SAAtBP,Q,kEACaA,QAAQ,CAACC,IAAT,E,SAAbC,I,gBACN,KAAKC,QAAL,CAAc,CAAEjB,SAAS,CAAEgB,IAAI,CAACE,KAAlB,CAAyBjB,SAAS,CAAE,IAApC,CAAd,EACAqB,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWC,SAAvB,E,yDAGF;uCAkBS,iBACoD,KAAKD,KADzD,CACCG,WADD,aACCA,WADD,CACcC,WADd,aACcA,WADd,CAC2BH,SAD3B,aAC2BA,SAD3B,CACsCC,SADtC,aACsCA,SADtC,CAGP,GAAMuB,CAAAA,eAAe,CAAGtB,WAAW,CAAGC,WAAtC,CACA,GAAMsB,CAAAA,gBAAgB,CAAGD,eAAe,CAAGrB,WAA3C,CACA,GAAMuB,CAAAA,cAAc,CAAG1B,SAAS,CAAC2B,KAAV,CAAgBF,gBAAhB,CAAkCD,eAAlC,CAAvB,CAEA,MACE,gCACE,oBAAC,aAAD,EAAe,UAAU,CAAE,KAAKnB,UAAhC,EADF,CAGG,CAACJ,SAAD,CACC,oBAAC,WAAD,MADD,CAGC,+BACE,oBAAC,MAAD,EACE,KAAK,CAAE,KAAKF,KAAL,CAAWK,KADpB,CAEE,cAAc,CAAE,KAAKL,KAAL,CAAWC,SAF7B,EADF,CAKE,oBAAC,YAAD,EACE,SAAS,CAAE0B,cADb,CAEE,OAAO,CAAE,KAAK3B,KAAL,CAAW6B,SAFtB,EALF,CASE,oBAAC,UAAD,EACE,UAAU,CAAEzB,WADd,CAEE,SAAS,CAAEH,SAAS,CAAC6B,MAFvB,CAGE,QAAQ,CAAE,KAAKV,QAHjB,EATF,CANJ,CADF,CAyBD,C,qBAtEmB3B,S,EAyEtB,cAAeM,CAAAA,OAAf","sourcesContent":["import React, { Component } from \"react\";\n\nimport LoadingPage from \"./LoadingPage\";\nimport NavigationBar from \"./NavigationBar\";\nimport Pagination from \"./Pagination\";\nimport TopQuestions from \"./TopQuestions\";\nimport Header from \"./Header\";\n\nclass MainApp extends Component {\n  state = {\n    questions: [],\n    isLoading: false,\n    currentPage: 1,\n    quesPerPage: 10,\n    title: \"Top Questions\"\n  };\n\n  //To display Top Questions on the Home Page\n  async componentDidMount() {\n    const url =\n      \"https://api.stackexchange.com/2.2/questions?order=desc&sort=activity&site=stackoverflow\";\n\n    const response = await fetch(url);\n    const data = await response.json();\n    this.setState({ questions: data.items, isLoading: true });\n    console.log(this.state.questions);\n  }\n\n  //To search the Questions from StackOverFlow API\n  formSubmit = async e => {\n    const searchQue = e.target.elements.searchQue.value;\n    e.preventDefault();\n    const api_call = `https://api.stackexchange.com/2.2/search/advanced?order=desc&sort=activity&title=${searchQue}&site=stackoverflow`;\n    const response = await fetch(api_call);\n    const data = await response.json();\n    this.setState({\n      questions: data.items,\n      isLoading: true,\n      title: \"Search Results\"\n    });\n  };\n\n  paginate = pageNumber => {\n    this.setState({ currentPage: pageNumber });\n  };\n\n  render() {\n    const { currentPage, quesPerPage, questions, isLoading } = this.state;\n\n    const indexofLastPage = currentPage * quesPerPage;\n    const indexofFirstPage = indexofLastPage - quesPerPage;\n    const currentPageQue = questions.slice(indexofFirstPage, indexofLastPage);\n\n    return (\n      <div>\n        <NavigationBar formSubmit={this.formSubmit} />\n\n        {!isLoading ? (\n          <LoadingPage />\n        ) : (\n          <div>\n            <Header\n              title={this.state.title}\n              totalQuestions={this.state.questions}\n            />\n            <TopQuestions\n              questions={currentPageQue}\n              loading={this.state.isloading}\n            />\n            <Pagination\n              quePerPage={quesPerPage}\n              totalQues={questions.length}\n              paginate={this.paginate}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MainApp;\n"]},"metadata":{},"sourceType":"module"}